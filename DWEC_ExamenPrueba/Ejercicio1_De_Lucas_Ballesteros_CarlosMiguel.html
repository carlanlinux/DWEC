<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ejercicio Expresiones Regulares</title>
    <script type="text/javascript">
        window.onload = function () {
            document.getElementById("comprobar").addEventListener("click", comprobar, true);
            document.getElementById("matricula").addEventListener("keydown", pulsarIntro, true);

        };

        function comprobar() {
            //Negamos las bocales dentro de la REGEXP y no incluimos la A al principio
            let patternNew = new RegExp("^\\d{4}\\s[B-P|R-Z|^EIOUÑQ]{3}$");
            let patternOld = new RegExp("^[A-Z]{1,2}-\\d{4}-[A-Z]{1,2}$");
            document.getElementById("matricula").value = document.getElementById("matricula").value.toUpperCase();
            let matricula = document.getElementById("matricula").value.toUpperCase();
            if (matricula.match(patternNew) || matricula.match(patternOld)) {
                document.getElementById("status").innerHTML = "<b>Matrícula Válida</b>";
            } else {
                document.getElementById("status").innerHTML = "<b>Matrícula No Válida</b>";
            }
        }
    </script>
</head>
<body>
<form>
    <fieldset>
        <h3>Eejercicio expresiones regulares </h3>
        <label for="matricula">Matrícula</label>
        <input id="matricula" required type="text">
        <br>
        <input id="comprobar" type="button" value="Comprobar">
        <br>
        <div>
            <br><br><span id="status"></span>
        </div>
    </fieldset>
</form>
</body>
</html>
